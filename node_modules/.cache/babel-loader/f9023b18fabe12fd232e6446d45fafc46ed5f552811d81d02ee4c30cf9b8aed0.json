{"ast":null,"code":"var _jsxFileName = \"S:\\\\projects\\\\6 - E-Commerce Website\\\\Client\\\\Amazone-clone-Client\\\\src\\\\components\\\\buynow\\\\Option.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fState } from '../../store/slice/CartCounter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Option = _ref => {\n  _s();\n  let {\n    data,\n    quantity\n  } = _ref;\n  const [quan, setQuan] = useState(quantity);\n  const dispatch = useDispatch();\n  const deleteProduct = async () => {\n    const res = await fetch(\"https://e-commerce-clone.onrender.com/deleteproduct\", {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        data\n      }),\n      credentials: \"include\"\n    });\n    const data1 = await res.json();\n    if (res.status === 201) {\n      let count = 0;\n      for (let i = 0; i < data1.data.items.length; i++) {\n        count = count + data1.data.items[i].quantity;\n      }\n      dispatch(fState(count));\n    }\n  };\n  const updateCart = async value => {\n    const res = await fetch(\"https://e-commerce-clone.onrender.com/updatecart\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        data,\n        value\n      }),\n      credentials: \"include\"\n    });\n    const data1 = await res.json();\n    if (res.status === 200) {\n      for (let i = 0; i < data1.items.length; i++) {\n        if (data1.items[i].productId === data) {\n          setQuan(data1.items[i].quantity);\n          break;\n        }\n      }\n      let count = 0;\n      for (let i = 0; i < data1.items.length; i++) {\n        count = count + data1.items[i].quantity;\n      }\n      dispatch(fState(count));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add_remove_select\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: quan,\n      onChange: e => updateCart(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"1\",\n        children: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"2\",\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"3\",\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"4\",\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"5\",\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        cursor: 'pointer'\n      },\n      onClick: deleteProduct,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"|\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 80\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"forremovemedia\",\n      children: \"Save Or Later\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"|\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 60\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"forremovemedia\",\n      children: \"See More like this\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(Option, \"KZicxorbJz/mHkTywOU1cQl+C1w=\", false, function () {\n  return [useDispatch];\n});\n_c = Option;\nexport default Option;\nvar _c;\n$RefreshReg$(_c, \"Option\");","map":{"version":3,"names":["useState","useDispatch","fState","Option","data","quantity","quan","setQuan","dispatch","deleteProduct","res","fetch","method","headers","Accept","body","JSON","stringify","credentials","data1","json","status","count","i","items","length","updateCart","value","productId","e","target","cursor"],"sources":["S:/projects/6 - E-Commerce Website/Client/Amazone-clone-Client/src/components/buynow/Option.js"],"sourcesContent":["\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fState } from '../../store/slice/CartCounter';\r\n\r\nconst Option = ({ data,quantity }) => {\r\n\r\n    const [quan,setQuan]=useState(quantity)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const deleteProduct = async () => {\r\n        const res = await fetch(\"https://e-commerce-clone.onrender.com/deleteproduct\", {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                data\r\n            }),\r\n            credentials: \"include\"\r\n        });\r\n        const data1 = await res.json();\r\n\r\n        if (res.status === 201) {\r\n            let count = 0\r\n            for (let i = 0; i < data1.data.items.length; i++) {\r\n                count = count + data1.data.items[i].quantity\r\n            }\r\n            dispatch(fState(count))\r\n        }\r\n    };\r\n\r\n    const updateCart = async (value) => {\r\n        const res = await fetch(\"https://e-commerce-clone.onrender.com/updatecart\", {\r\n            method: \"PUT\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                data,value\r\n            }),\r\n            credentials: \"include\"\r\n        });\r\n        const data1 = await res.json();\r\n        if (res.status === 200) {\r\n            for (let i = 0; i < data1.items.length; i++) {\r\n                if(data1.items[i].productId===data){\r\n                    setQuan(data1.items[i].quantity);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            let count = 0\r\n            for (let i = 0; i < data1.items.length; i++) {\r\n                count = count + data1.items[i].quantity\r\n            }\r\n            dispatch(fState(count))  \r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='add_remove_select'>\r\n            <select value={quan} onChange={e=>updateCart(e.target.value)}>\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n            </select>\r\n            <p style={{ cursor: 'pointer' }} onClick={deleteProduct}>Delete</p><span>|</span>\r\n            <p className='forremovemedia'>Save Or Later</p><span>|</span>\r\n            <p className='forremovemedia'>See More like this</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Option\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}